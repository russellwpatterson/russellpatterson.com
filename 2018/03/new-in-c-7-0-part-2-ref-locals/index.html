<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Russell Patterson"><meta name=description content="Russell Patterson's personal website"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="New in C# 7.0: Part 2 – Ref Locals"><meta name=twitter:description content="After about a year, I&rsquo;m finally trying to start writing some more blog posts, so I&rsquo;ll pick up right where I left off. Today, I&rsquo;m going to give a brief overview of Ref Locals.
Ref Locals allow you to create an alias for a variable so that you are not creating another copy of the data or reference (in the case of an object), in memory. In previous versions of C#, if you wanted to refer to a local variable with a different name, you&rsquo;d have to do this:"><meta property="og:title" content="New in C# 7.0: Part 2 – Ref Locals"><meta property="og:description" content="After about a year, I&rsquo;m finally trying to start writing some more blog posts, so I&rsquo;ll pick up right where I left off. Today, I&rsquo;m going to give a brief overview of Ref Locals.
Ref Locals allow you to create an alias for a variable so that you are not creating another copy of the data or reference (in the case of an object), in memory. In previous versions of C#, if you wanted to refer to a local variable with a different name, you&rsquo;d have to do this:"><meta property="og:type" content="article"><meta property="og:url" content="/2018/03/new-in-c-7-0-part-2-ref-locals/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-03-18T23:22:39+00:00"><meta property="article:modified_time" content="2018-03-18T23:22:39+00:00"><base href=/2018/03/new-in-c-7-0-part-2-ref-locals/><title>New in C# 7.0: Part 2 – Ref Locals · Russell Writes Code</title><link rel=canonical href=/2018/03/new-in-c-7-0-part-2-ref-locals/><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.11.2/css/all.css integrity=sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/img/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/img/favicon-16x16.png sizes=16x16><meta name=generator content="Hugo 0.83.1"></head><body class=colorscheme-light><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Russell Writes Code</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About Me</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/things-i-work-on/>Things I Work On</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title>New in C# 7.0: Part 2 – Ref Locals</h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fas fa-calendar"></i>
<time datetime=2018-03-18T23:22:39Z>March 18, 2018</time></span>
<span class=reading-time><i class="fas fa-clock"></i>
2-minute read</span></div><div class=categories><i class="fas fa-folder"></i>
<a href=/categories/c/>C#</a>
<span class=separator>•</span>
<a href=/categories/technical/>Technical</a></div></div></header><div><p>After about a year, I&rsquo;m finally trying to start writing some more blog posts, so I&rsquo;ll pick up right where I left off. Today, I&rsquo;m going to give a brief overview of Ref Locals.</p><p>Ref Locals allow you to create an alias for a variable so that you are not creating another copy of the data or reference (in the case of an object), in memory. In previous versions of C#, if you wanted to refer to a local variable with a different name, you&rsquo;d have to do this:</p><pre><code>var original1 = &quot;This is a test&quot;;
var copy1 = original1;
            
original1 = &quot;whatever&quot;;
            
Console.WriteLine(&quot;Not Ref Locals:&quot;);
Console.WriteLine(original1);   // &quot;whatever&quot;
Console.WriteLine(copy1);       // &quot;This is a test&quot;
</code></pre><p>This unfortunately creates another copy of the variable, so changes to the original are not reflected in the copy. With Ref Locals, you can ensure changes are reflected in both places:</p><pre><code>var original2 = &quot;This is a test&quot;;
ref var copy2 = ref original2;

copy2 = &quot;whatever&quot;;

Console.WriteLine(&quot;Ref Locals:&quot;);
Console.WriteLine(original2);   // &quot;whatever&quot;
Console.WriteLine(copy2);       // &quot;whatever&quot;
</code></pre><p>This is particularly helpful when dealing with arrays of items.</p><pre><code>string[] arrayOfStrings = { &quot;this&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot; };
var thirdItem = arrayOfStrings[2];      // a

thirdItem = &quot;not a&quot;;

Console.WriteLine(string.Join(&quot; &quot;, arrayOfStrings));    // this is a test

ref var thirdItemRef = ref arrayOfStrings[2];        // a

thirdItemRef = &quot;not a&quot;;

Console.WriteLine(string.Join(&quot; &quot;, arrayOfStrings));    // this is not a test
</code></pre><p>The changes will be reflected in the array itself, instead of just in the copy version of the variable.</p><p>That&rsquo;s it for today. Next week is Ref Returns.</p></div><footer></footer></article><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js id=MathJax-script></script><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}}</script></section></div><footer class=footer><section class=container><p>Not a strong bowler.</p>© 2008 - 2021
Russell Patterson</section></footer></main></body></html>